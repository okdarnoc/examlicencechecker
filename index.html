<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SFC Exam & Eligibility Checker | è­‰ç›£æœƒè€ƒè©¦åŠè³‡æ ¼æª¢æŸ¥å™¨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ED1C24;
            --primary-dark: #C41920;
            --secondary: #1a1a2e;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --white: #ffffff;
            --gray-100: #f1f3f5;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-600: #6c757d;
            --gray-800: #343a40;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background: var(--gray-100); color: var(--gray-800); line-height: 1.6; }
        .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }

        /* Language Bar */
        .lang-bar { background: var(--secondary); padding: 10px 0; }
        .lang-selector { display: flex; justify-content: flex-end; gap: 5px; }
        .lang-btn { background: transparent; border: 1px solid rgba(255,255,255,0.3); color: rgba(255,255,255,0.8); padding: 6px 14px; border-radius: 4px; cursor: pointer; font-size: 0.85rem; }
        .lang-btn:hover { background: rgba(255,255,255,0.1); }
        .lang-btn.active { background: var(--primary); border-color: var(--primary); color: white; }

        /* Header */
        .header { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; padding: 25px 0; }
        .header-content { display: flex; align-items: center; gap: 20px; }
        .logo { width: 70px; height: auto; border-radius: 8px; background: white; padding: 5px; }
        .header h1 { font-size: 1.6rem; margin-bottom: 5px; }
        .header p { opacity: 0.9; font-size: 0.95rem; }

        /* Main */
        .main-content { padding: 30px 0 50px; }
        .card { background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; overflow: hidden; }
        .card-header { background: var(--gray-100); padding: 20px 25px; border-bottom: 1px solid var(--gray-200); }
        .card-header h2 { color: var(--secondary); font-size: 1.3rem; margin-bottom: 5px; }
        .card-header p { color: var(--gray-600); font-size: 0.9rem; }
        .card-body { padding: 25px; }
        .card-footer { padding: 15px 25px; background: var(--gray-100); border-top: 1px solid var(--gray-200); display: flex; justify-content: space-between; gap: 10px; }

        /* Form */
        .form-group { margin-bottom: 25px; }
        .form-group:last-child { margin-bottom: 0; }
        .form-group > label { display: block; font-weight: 600; margin-bottom: 10px; }

        /* Radio/Checkbox Cards */
        .option-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 10px; }
        .option-card { cursor: pointer; display: flex; }
        .option-card input { display: none; }
        .option-content { background: white; border: 2px solid var(--gray-300); border-radius: 8px; padding: 15px; transition: all 0.2s; text-align: center; width: 100%; min-height: 95px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .option-card:hover .option-content { border-color: var(--primary); }
        .option-card input:checked + .option-content { border-color: var(--primary); background: #fff5f5; box-shadow: 0 0 0 3px rgba(237,28,36,0.1); }
        .option-type { display: block; font-size: 0.7rem; font-weight: 700; color: var(--primary); text-transform: uppercase; margin-bottom: 5px; }
        .option-name { display: block; font-size: 0.85rem; font-weight: 500; color: var(--secondary); }
        .option-detail { display: block; font-size: 0.75rem; color: var(--gray-600); margin-top: 3px; }
        .option-badge { display: inline-block; margin-top: 5px; padding: 2px 8px; background: var(--success); color: white; font-size: 0.65rem; border-radius: 4px; }
        .option-badge.new { background: #17a2b8; }

        /* Toggle */
        .toggle-grid { display: flex; gap: 15px; }
        .toggle-card { flex: 1; cursor: pointer; }
        .toggle-card input { display: none; }
        .toggle-content { background: white; border: 2px solid var(--gray-300); border-radius: 8px; padding: 15px; text-align: center; transition: all 0.2s; }
        .toggle-card:hover .toggle-content { border-color: var(--gray-600); }
        .toggle-card input:checked + .toggle-content { border-color: var(--primary); background: #fff5f5; }

        /* Select */
        select { width: 100%; padding: 12px; border: 2px solid var(--gray-300); border-radius: 8px; font-size: 1rem; background: white; }
        select:focus { outline: none; border-color: var(--primary); }

        /* Input */
        .input-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .input-row input { flex: 1; padding: 10px; border: 2px solid var(--gray-300); border-radius: 8px; font-size: 1rem; }
        .input-row input:focus { outline: none; border-color: var(--primary); }
        .input-row .unit { color: var(--gray-600); }
        .help-text { font-size: 0.8rem; color: var(--gray-600); }

        /* Checkbox Grid */
        .checkbox-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 8px; }
        .checkbox-item { display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: white; border: 2px solid var(--gray-300); border-radius: 6px; cursor: pointer; font-size: 0.85rem; }
        .checkbox-item:hover { border-color: var(--gray-600); }
        .checkbox-item input { width: 16px; height: 16px; accent-color: var(--primary); }

        /* Info Box */
        .info-box { display: flex; gap: 10px; padding: 12px; background: #e3f2fd; border-radius: 8px; margin-top: 15px; border-left: 4px solid #2196f3; }
        .info-box.warning { background: #fff8e1; border-left-color: var(--warning); }
        .info-box p { font-size: 0.85rem; color: var(--gray-800); }

        /* Buttons */
        .btn { display: inline-block; padding: 12px 24px; font-size: 1rem; font-weight: 600; border: none; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); }
        .btn-secondary { background: white; color: var(--gray-800); border: 2px solid var(--gray-300); }
        .btn-secondary:hover { background: var(--gray-100); }
        .btn-success { background: var(--success); color: white; }
        .btn-success:hover { background: #218838; }

        /* Steps */
        .step { display: none; }
        .step.active { display: block; }

        /* Results */
        .result-box { padding: 20px; border-radius: 8px; margin-bottom: 15px; }
        .result-box.success { background: #d4edda; border: 1px solid #c3e6cb; }
        .result-box.warning { background: #fff3cd; border: 1px solid #ffeeba; }
        .result-box.danger { background: #f8d7da; border: 1px solid #f5c6cb; }
        .result-box.info { background: #d1ecf1; border: 1px solid #bee5eb; }
        .result-box h3 { margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .result-list { list-style: none; }
        .result-list li { padding: 12px; background: white; margin-bottom: 8px; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid var(--primary); }
        .result-list li.exempt { border-left-color: var(--success); background: #f0fff4; }
        .badge { padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; }
        .badge-danger { background: var(--danger); color: white; }
        .badge-success { background: var(--success); color: white; }

        /* Footer */
        .footer { background: var(--secondary); color: rgba(255,255,255,0.8); padding: 30px 0; margin-top: 40px; }
        .footer h4 { color: white; margin-bottom: 10px; }
        .footer a { color: rgba(255,255,255,0.8); }
        .footer a:hover { color: var(--primary); }

        @media (max-width: 600px) {
            .header-content { flex-direction: column; text-align: center; }
            .option-grid { grid-template-columns: repeat(2, 1fr); }
            .card-footer { flex-direction: column; }
            .card-footer .btn { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="lang-bar">
        <div class="container">
            <div class="lang-selector">
                <button class="lang-btn" onclick="setLang('en')" id="lang_en">English</button>
                <button class="lang-btn active" onclick="setLang('tc')" id="lang_tc">ç¹é«”ä¸­æ–‡</button>
                <button class="lang-btn" onclick="setLang('sc')" id="lang_sc">ç®€ä½“ä¸­æ–‡</button>
            </div>
        </div>
    </div>

    <header class="header">
        <div class="container">
            <div class="header-content">
                <img src="2cexam_logo-272x300.png" alt="2CExam" class="logo">
                <div>
                    <h1 id="title">è­‰ç›£æœƒè€ƒè©¦åŠè³‡æ ¼æª¢æŸ¥å™¨</h1>
                    <p id="subtitle">æ ¹æ“šè­‰ç›£æœƒã€Šå‹ä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) ç¢ºå®šè€ƒè©¦è¦æ±‚åŠç‰Œç…§è³‡æ ¼</p>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <!-- Step 1 -->
            <div class="step active" id="step1">
                <div class="card">
                    <div class="card-header">
                        <h2 id="s1_title">ç¬¬ä¸€æ­¥ï¼šè§’è‰²åŠå—è¦ç®¡æ´»å‹•</h2>
                        <p id="s1_desc">é¸æ“‡æ‚¨ç”³è«‹çš„è§’è‰²åŠå—è¦ç®¡æ´»å‹•é¡å‹ã€‚</p>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label id="role_label">æ‚¨ç”³è«‹çš„æ˜¯ä»€éº¼è§’è‰²ï¼Ÿ</label>
                            <div class="toggle-grid">
                                <label class="toggle-card">
                                    <input type="radio" name="role" value="LR">
                                    <div class="toggle-content">
                                        <div>ğŸ‘¤</div>
                                        <strong id="role_lr">æŒç‰Œä»£è¡¨ (LR)</strong>
                                    </div>
                                </label>
                                <label class="toggle-card">
                                    <input type="radio" name="role" value="RO">
                                    <div class="toggle-content">
                                        <div>ğŸ‘”</div>
                                        <strong id="role_ro">è² è²¬äººå“¡ (RO)</strong>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label id="ra_label">å“ªç¨®å—è¦ç®¡æ´»å‹• (RA)ï¼Ÿ</label>
                            <div class="option-grid">
                                <label class="option-card"><input type="radio" name="raType" value="1"><div class="option-content"><span class="option-type" id="type1">ç¬¬1é¡</span><span class="option-name" id="ra1">è­‰åˆ¸äº¤æ˜“</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="2"><div class="option-content"><span class="option-type" id="type2">ç¬¬2é¡</span><span class="option-name" id="ra2">æœŸè²¨åˆç´„äº¤æ˜“</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="3"><div class="option-content"><span class="option-type" id="type3">ç¬¬3é¡</span><span class="option-name" id="ra3">æ§“æ¡¿å¼å¤–åŒ¯äº¤æ˜“</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="4"><div class="option-content"><span class="option-type" id="type4">ç¬¬4é¡</span><span class="option-name" id="ra4">å°±è­‰åˆ¸æä¾›æ„è¦‹</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="5"><div class="option-content"><span class="option-type" id="type5">ç¬¬5é¡</span><span class="option-name" id="ra5">å°±æœŸè²¨åˆç´„æä¾›æ„è¦‹</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="6"><div class="option-content"><span class="option-type" id="type6">ç¬¬6é¡</span><span class="option-name" id="ra6">å°±æ©Ÿæ§‹èè³‡æä¾›æ„è¦‹</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="7"><div class="option-content"><span class="option-type" id="type7">ç¬¬7é¡</span><span class="option-name" id="ra7">æä¾›è‡ªå‹•åŒ–äº¤æ˜“æœå‹™</span><span class="option-badge" id="no_exam">ç„¡é ˆè€ƒè©¦</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="8"><div class="option-content"><span class="option-type" id="type8">ç¬¬8é¡</span><span class="option-name" id="ra8">æä¾›è­‰åˆ¸ä¿è­‰é‡‘èè³‡</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="9"><div class="option-content"><span class="option-type" id="type9">ç¬¬9é¡</span><span class="option-name" id="ra9">è³‡ç”¢ç®¡ç†</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="10"><div class="option-content"><span class="option-type" id="type10">ç¬¬10é¡</span><span class="option-name" id="ra10">æä¾›ä¿¡è²¸è©•ç´šæœå‹™</span></div></label>
                                <label class="option-card"><input type="radio" name="raType" value="13"><div class="option-content"><span class="option-type" id="type13">ç¬¬13é¡</span><span class="option-name" id="ra13">ç‚ºé›†é«”æŠ•è³‡è¨ˆåŠƒæä¾›å­˜ç®¡æœå‹™</span><span class="option-badge new" id="new_2024">2024æ–°å¢</span></div></label>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div></div>
                        <button class="btn btn-primary" onclick="nextStep(1)" id="btn_next1">ä¸‹ä¸€æ­¥ â†’</button>
                    </div>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="step" id="step2">
                <div class="card">
                    <div class="card-header">
                        <h2 id="s2_title">ç¬¬äºŒæ­¥ï¼šç‰Œç…§ç´€éŒ„</h2>
                        <p id="s2_desc">æ‚¨çš„ç‰Œç…§ç´€éŒ„æœƒå½±éŸ¿è€ƒè©¦è±å…ã€‚</p>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label id="current_license">æ‚¨ç›®å‰æ˜¯å¦æŒæœ‰è­‰ç›£æœƒç‰Œç…§ï¼Ÿ</label>
                            <div class="toggle-grid">
                                <label class="toggle-card"><input type="radio" name="currentLicense" value="yes"><div class="toggle-content"><strong id="yes1">æ˜¯</strong></div></label>
                                <label class="toggle-card"><input type="radio" name="currentLicense" value="no" checked><div class="toggle-content"><strong id="no1">å¦</strong></div></label>
                            </div>
                        </div>
                        <div class="form-group" id="currentRAGroup" style="display:none;">
                            <label id="current_ra_label">ç›®å‰æŒæœ‰çš„ç‰Œç…§ï¼š</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="1"><span>ç¬¬1é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="2"><span>ç¬¬2é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="4"><span>ç¬¬4é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="5"><span>ç¬¬5é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="6"><span>ç¬¬6é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="8"><span>ç¬¬8é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="9"><span>ç¬¬9é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="10"><span>ç¬¬10é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="currentRA" value="13"><span>ç¬¬13é¡</span></label>
                            </div>
                        </div>
                        <div class="form-group" id="formerGroup">
                            <label id="former_license">æ‚¨éå»æ˜¯å¦æ›¾æŒæœ‰ç‰Œç…§ï¼Ÿ</label>
                            <div class="toggle-grid">
                                <label class="toggle-card"><input type="radio" name="formerLicense" value="yes"><div class="toggle-content"><strong id="yes2">æ˜¯</strong></div></label>
                                <label class="toggle-card"><input type="radio" name="formerLicense" value="no" checked><div class="toggle-content"><strong id="no2">å¦</strong></div></label>
                            </div>
                        </div>
                        <div class="form-group" id="yearsAbsentGroup" style="display:none;">
                            <label id="years_absent">é›¢é–‹è¡Œæ¥­å¤šé•·æ™‚é–“ï¼š</label>
                            <div class="input-row">
                                <input type="number" id="yearsAbsent" min="0" max="50" step="0.5" value="0">
                                <span class="unit" id="years_unit">å¹´</span>
                            </div>
                            <p class="help-text" id="years_help">3-8å¹´ = éœ€è¦CPTæ™‚æ•¸ï¼›>8å¹´ = æ²’æœ‰è±å…</p>
                        </div>
                        <div class="form-group" id="formerRAGroup" style="display:none;">
                            <label id="former_ra_label">éå»æŒæœ‰çš„ç‰Œç…§ï¼š</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="1"><span>ç¬¬1é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="2"><span>ç¬¬2é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="4"><span>ç¬¬4é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="5"><span>ç¬¬5é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="6"><span>ç¬¬6é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="8"><span>ç¬¬8é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="9"><span>ç¬¬9é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="10"><span>ç¬¬10é¡</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="formerRA" value="13"><span>ç¬¬13é¡</span></label>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-secondary" onclick="prevStep(2)" id="btn_back2">â† è¿”å›</button>
                        <button class="btn btn-primary" onclick="nextStep(2)" id="btn_next2">ä¸‹ä¸€æ­¥ â†’</button>
                    </div>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="step" id="step3">
                <div class="card">
                    <div class="card-header">
                        <h2 id="s3_title">ç¬¬ä¸‰æ­¥ï¼šè³‡æ­·åŠç¶“é©—</h2>
                        <p id="s3_desc">æ‚¨çš„è³‡æ­·æ±ºå®šè€ƒè©¦è±å…ã€‚</p>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label id="academic_label">æœ€é«˜å­¸æ­·ï¼š</label>
                            <select id="academicQual">
                                <option value="none" id="acad_none">æ²’æœ‰æ­£å¼å­¸æ­·</option>
                                <option value="secondary" id="acad_sec">ä¸­å­¸æ•™è‚² (HKCEE/HKDSE)</option>
                                <option value="degreeOther" id="acad_deg_other">å­¸å£«å­¸ä½ï¼ˆå…¶ä»–é ˜åŸŸï¼‰</option>
                                <option value="degreeRelevant" id="acad_deg_rel">æœƒè¨ˆ/å•†æ¥­/ç¶“æ¿Ÿ/é‡‘è/æ³•å¾‹å­¸å£«å­¸ä½</option>
                                <option value="degreeRelevantCourses" id="acad_deg_courses">å­¸å£«å­¸ä½ï¼ˆå…¶ä»–ï¼‰+ 2é–€ç›¸é—œèª²ç¨‹</option>
                                <option value="masters" id="acad_masters">ç›¸é—œé ˜åŸŸç¢©å£«å­¸ä½</option>
                                <option value="mba" id="acad_mba">MBA</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label id="prof_label">å°ˆæ¥­è³‡æ ¼ï¼š</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-item"><input type="checkbox" name="profQual" value="CFA"><span>CFA</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="profQual" value="CIIA"><span>CIIA</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="profQual" value="CFP"><span>CFP</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="profQual" value="FRM"><span>FRM</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="profQual" value="CPA"><span>CPA</span></label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label id="exp_8_label">éå»8å¹´ç›¸é—œç¶“é©—ï¼š</label>
                            <div class="input-row">
                                <input type="number" id="industryExp" min="0" max="8" step="0.5" value="0">
                                <span class="unit" id="years_unit2">å¹´</span>
                            </div>
                            <p class="help-text" id="exp_8_help">5å¹´ä»¥ä¸Š = RIQè±å…</p>
                        </div>
                        <div class="form-group">
                            <label id="exp_6_label">éå»6å¹´ç›¸é—œç¶“é©—ï¼š</label>
                            <div class="input-row">
                                <input type="number" id="industryExp6" min="0" max="6" step="0.5" value="0">
                                <span class="unit" id="years_unit3">å¹´</span>
                            </div>
                            <p class="help-text" id="exp_6_help">è² è²¬äººå“¡éœ€3å¹´ä»¥ä¸Š</p>
                        </div>
                        <div class="form-group">
                            <label id="mgmt_label">ç®¡ç†ç¶“é©—ï¼š</label>
                            <div class="input-row">
                                <input type="number" id="managementExp" min="0" max="30" step="0.5" value="0">
                                <span class="unit" id="years_unit4">å¹´</span>
                            </div>
                            <p class="help-text" id="mgmt_help">è² è²¬äººå“¡éœ€2å¹´ä»¥ä¸Š</p>
                        </div>
                        <div class="form-group">
                            <label id="pi_label">æ˜¯å¦åªæœå‹™å°ˆæ¥­æŠ•è³‡è€…ï¼Ÿ</label>
                            <div class="toggle-grid">
                                <label class="toggle-card"><input type="radio" name="piOnly" value="yes"><div class="toggle-content"><strong id="yes3">æ˜¯</strong></div></label>
                                <label class="toggle-card"><input type="radio" name="piOnly" value="no" checked><div class="toggle-content"><strong id="no3">å¦</strong></div></label>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-secondary" onclick="prevStep(3)" id="btn_back3">â† è¿”å›</button>
                        <button class="btn btn-primary" onclick="nextStep(3)" id="btn_next3">ä¸‹ä¸€æ­¥ â†’</button>
                    </div>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="step" id="step4">
                <div class="card">
                    <div class="card-header">
                        <h2 id="s4_title">ç¬¬å››æ­¥ï¼šè€ƒè©¦ç´€éŒ„</h2>
                        <p id="s4_desc">é¸æ“‡éå»3å¹´å…§å·²é€šéçš„è©¦å·ã€‚</p>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label id="lrp_papers_label">LRPè©¦å·ï¼ˆç›£ç®¡ï¼‰ï¼š</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="1"><span id="p1">å·ä¸€</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="2"><span id="p2">å·äºŒ</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="3"><span id="p3">å·ä¸‰</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="4"><span id="p4">å·å››</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="5"><span id="p5">å·äº”</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="6"><span id="p6">å·å…­</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="18"><span id="p18">å·åå…«</span></label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label id="riq_papers_label">RIQè©¦å·ï¼ˆå¯¦å‹™ï¼‰ï¼š</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="7"><span id="p7">å·ä¸ƒ</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="8"><span id="p8">å·å…«</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="9"><span id="p9">å·ä¹</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="10"><span id="p10">å·å</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="11"><span id="p11">å·åä¸€</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="12"><span id="p12">å·åäºŒ</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="19"><span id="p19">å·åä¹</span></label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label id="add_papers_label">å…¶ä»–è©¦å·ï¼š</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="15"><span id="p15">å·åäº”</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="16"><span id="p16">å·åå…­</span></label>
                                <label class="checkbox-item"><input type="checkbox" name="passedPapers" value="17"><span id="p17">å·åä¸ƒ</span></label>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-secondary" onclick="prevStep(4)" id="btn_back4">â† è¿”å›</button>
                        <button class="btn btn-success" onclick="calculate()" id="btn_calc">è¨ˆç®—çµæœ</button>
                    </div>
                </div>
            </div>

            <!-- Results -->
            <div class="step" id="stepResults">
                <div id="resultsContent"></div>
                <button class="btn btn-secondary" onclick="restart()" style="width:100%;margin-top:20px;" id="btn_restart">é‡æ–°é–‹å§‹</button>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:30px;margin-bottom:25px;">
                <div>
                    <h4 id="disclaimer_title">å…è²¬è²æ˜</h4>
                    <p style="font-size:0.85rem;margin-bottom:15px;" id="disclaimer_text">æœ¬è¨ˆç®—å™¨æ ¹æ“šè­‰ç›£æœƒã€Šå‹ä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) æä¾›ä¸€èˆ¬æŒ‡å¼•ã€‚å€‹åˆ¥æƒ…æ³å¯èƒ½æœ‰æ‰€ä¸åŒã€‚å¦‚éœ€äº†è§£å®˜æ–¹è¦æ±‚ï¼Œè«‹ç›´æ¥è«®è©¢è­‰ç›£æœƒã€‚</p>
                    <p><a href="https://www.sfc.hk/TC/rules-and-standards/codes-and-guidelines/guidelines/guidelines-on-competence" target="_blank" id="link_sfc">è­‰ç›£æœƒæŒ‡å¼•</a> | <a href="https://www.hksi.org" target="_blank">HKSI</a> | <a href="https://2cexam.com.hk" target="_blank">2CExam</a></p>
                </div>
                <div>
                    <h4 id="contact_title">ğŸ“ è¯çµ¡æˆ‘å€‘</h4>
                    <p style="font-size:0.85rem;margin-bottom:8px;" id="contact_address">ğŸ“ <span id="address_text">ä¸­ç’°å¾·è¼”é“ä¸­59è™Ÿä¸­å—è¡Œ301å®¤</span></p>
                    <p style="font-size:0.85rem;margin-bottom:8px;" id="contact_mtr">ğŸš‡ <span id="mtr_text">ä¸­ç’°åœ°éµç«™Bå‡ºå£</span></p>
                    <p style="font-size:0.85rem;margin-bottom:8px;" id="contact_hours_title">ğŸ• <span id="hours_title">è¾¦å…¬æ™‚é–“</span></p>
                    <p style="font-size:0.8rem;margin-left:20px;margin-bottom:5px;" id="hours_days">æ˜ŸæœŸä¸€è‡³äº”: 9AM-12PM, 1PM-6PM</p>
                    <p style="font-size:0.75rem;margin-left:20px;margin-bottom:8px;opacity:0.8;" id="hours_lunch">ï¼ˆåˆé£¯æ™‚é–“ä¸æä¾›æœå‹™ï¼‰</p>
                </div>
                <div>
                    <h4 style="margin-bottom:15px;">&nbsp;</h4>
                    <p style="font-size:0.85rem;margin-bottom:8px;">ğŸ“± <a href="tel:+85221109644" style="color:rgba(255,255,255,0.8);">+852 2110 9644</a></p>
                    <p style="font-size:0.85rem;margin-bottom:8px;">âœ‰ï¸ <a href="mailto:info@2cexam.com" style="color:rgba(255,255,255,0.8);">info@2cexam.com</a></p>
                    <p style="font-size:0.85rem;margin-bottom:8px;">ğŸ’¬ WhatsApp: <a href="https://wa.me/85293472064" target="_blank" style="color:rgba(255,255,255,0.8);">+852 9347 2064</a></p>
                    <p style="font-size:0.85rem;margin-bottom:8px;">ğŸ’š WeChat: hk2cexam</p>
                </div>
            </div>
            <div style="border-top:1px solid rgba(255,255,255,0.2);padding-top:15px;text-align:center;">
                <p style="font-size:0.8rem;opacity:0.8;">Â© 2024 2CExam. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Language - default Traditional Chinese
        let lang = 'tc';
        const texts = {
            en: {
                title: "SFC Exam & Eligibility Checker",
                subtitle: "Determine your exam requirements and licensing eligibility based on SFC Guidelines on Competence (Oct 2024)",
                s1_title: "Step 1: Role & Regulated Activity",
                s1_desc: "Select your role and the regulated activity you're applying for.",
                role_label: "What role are you applying for?",
                role_lr: "Licensed Representative (LR)",
                role_ro: "Responsible Officer (RO)",
                ra_label: "Which Regulated Activity (RA)?",
                type1: "Type 1", type2: "Type 2", type3: "Type 3", type4: "Type 4", type5: "Type 5",
                type6: "Type 6", type7: "Type 7", type8: "Type 8", type9: "Type 9", type10: "Type 10", type13: "Type 13",
                ra1: "Dealing in Securities", ra2: "Dealing in Futures", ra3: "Leveraged FX Trading",
                ra4: "Advising on Securities", ra5: "Advising on Futures", ra6: "Corporate Finance",
                ra7: "Automated Trading", ra8: "Margin Financing", ra9: "Asset Management",
                ra10: "Credit Rating", ra13: "Depositary Services", no_exam: "No Exam", new_2024: "New 2024",
                s2_title: "Step 2: Licensing History", s2_desc: "Your licensing history affects exam exemptions.",
                current_license: "Are you currently licensed by the SFC?",
                yes1: "Yes", no1: "No", yes2: "Yes", no2: "No", yes3: "Yes", no3: "No",
                current_ra_label: "Current licenses:",
                former_license: "Have you been licensed in the past?",
                former_ra_label: "Previous licenses:",
                years_absent: "Years out of the industry:",
                years_unit: "years", years_unit2: "years", years_unit3: "years", years_unit4: "years",
                years_help: "3-8 years = CPT hours required; >8 years = no exemption",
                s3_title: "Step 3: Qualifications & Experience", s3_desc: "Your qualifications determine exam exemptions.",
                academic_label: "Highest Academic Qualification:",
                acad_none: "No formal qualification",
                acad_sec: "Secondary education (HKCEE/HKDSE)",
                acad_deg_other: "Bachelor's degree (other fields)",
                acad_deg_rel: "Bachelor's in Accounting/Business/Economics/Finance/Law",
                acad_deg_courses: "Bachelor's (other) + 2 relevant courses",
                acad_masters: "Master's in relevant field",
                acad_mba: "MBA",
                prof_label: "Professional Qualifications:",
                exp_8_label: "Relevant experience in past 8 years:",
                exp_8_help: "5+ years = RIQ exemption",
                exp_6_label: "Relevant experience in past 6 years:",
                exp_6_help: "RO requires 3+ years",
                mgmt_label: "Management experience:",
                mgmt_help: "RO requires 2+ years",
                pi_label: "Serving professional investors only?",
                s4_title: "Step 4: Exam History", s4_desc: "Select papers passed within 3 years.",
                lrp_papers_label: "LRP Papers (Regulatory):",
                riq_papers_label: "RIQ Papers (Practical):",
                add_papers_label: "Additional Papers:",
                p1: "Paper 1", p2: "Paper 2", p3: "Paper 3", p4: "Paper 4", p5: "Paper 5", p6: "Paper 6",
                p7: "Paper 7", p8: "Paper 8", p9: "Paper 9", p10: "Paper 10", p11: "Paper 11", p12: "Paper 12",
                p15: "Paper 15", p16: "Paper 16", p17: "Paper 17", p18: "Paper 18", p19: "Paper 19",
                btn_next1: "Next Step â†’", btn_next2: "Next Step â†’", btn_next3: "Next Step â†’",
                btn_back2: "â† Back", btn_back3: "â† Back", btn_back4: "â† Back",
                btn_calc: "Calculate Results", btn_restart: "Start Over",
                result_eligible: "You appear to be eligible",
                result_warning: "Conditional Eligibility",
                result_not_eligible: "Eligibility Concerns",
                papers_required: "Papers You Need to Pass",
                papers_exempt: "Papers You Are Exempt From",
                summary: "Summary",
                papers_to_pass: "Papers to pass:",
                papers_exempt_count: "Papers exempt:",
                cpt_required: "CPT Hours Required",
                cpt_before: "Must complete BEFORE applying",
                alert_select: "Please select a role and regulated activity.",
                disclaimer_title: "Disclaimer",
                disclaimer_text: "This calculator provides general guidance based on SFC Guidelines on Competence (October 2024). Individual circumstances may vary. For official requirements, consult the SFC directly.",
                link_sfc: "SFC Guidelines",
                contact_title: "ğŸ“ Contact Us",
                address_text: "Room 301, 59 Des Voeux Road Central, Central",
                mtr_text: "Central MTR Exit B",
                hours_title: "Office Hours",
                hours_days: "Mon-Fri: 9AM-12PM, 1PM-6PM",
                hours_lunch: "(No service during lunch)"
            },
            tc: {
                title: "è­‰ç›£æœƒè€ƒè©¦åŠè³‡æ ¼æª¢æŸ¥å™¨",
                subtitle: "æ ¹æ“šè­‰ç›£æœƒã€Šå‹ä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) ç¢ºå®šè€ƒè©¦è¦æ±‚åŠç‰Œç…§è³‡æ ¼",
                s1_title: "ç¬¬ä¸€æ­¥ï¼šè§’è‰²åŠå—è¦ç®¡æ´»å‹•",
                s1_desc: "é¸æ“‡æ‚¨ç”³è«‹çš„è§’è‰²åŠå—è¦ç®¡æ´»å‹•é¡å‹ã€‚",
                role_label: "æ‚¨ç”³è«‹çš„æ˜¯ä»€éº¼è§’è‰²ï¼Ÿ",
                role_lr: "æŒç‰Œä»£è¡¨ (LR)",
                role_ro: "è² è²¬äººå“¡ (RO)",
                ra_label: "å“ªç¨®å—è¦ç®¡æ´»å‹• (RA)ï¼Ÿ",
                type1: "ç¬¬1é¡", type2: "ç¬¬2é¡", type3: "ç¬¬3é¡", type4: "ç¬¬4é¡", type5: "ç¬¬5é¡",
                type6: "ç¬¬6é¡", type7: "ç¬¬7é¡", type8: "ç¬¬8é¡", type9: "ç¬¬9é¡", type10: "ç¬¬10é¡", type13: "ç¬¬13é¡",
                ra1: "è­‰åˆ¸äº¤æ˜“", ra2: "æœŸè²¨åˆç´„äº¤æ˜“", ra3: "æ§“æ¡¿å¼å¤–åŒ¯äº¤æ˜“",
                ra4: "å°±è­‰åˆ¸æä¾›æ„è¦‹", ra5: "å°±æœŸè²¨åˆç´„æä¾›æ„è¦‹", ra6: "å°±æ©Ÿæ§‹èè³‡æä¾›æ„è¦‹",
                ra7: "æä¾›è‡ªå‹•åŒ–äº¤æ˜“æœå‹™", ra8: "æä¾›è­‰åˆ¸ä¿è­‰é‡‘èè³‡", ra9: "è³‡ç”¢ç®¡ç†",
                ra10: "æä¾›ä¿¡è²¸è©•ç´šæœå‹™", ra13: "ç‚ºé›†é«”æŠ•è³‡è¨ˆåŠƒæä¾›å­˜ç®¡æœå‹™", no_exam: "ç„¡é ˆè€ƒè©¦", new_2024: "2024æ–°å¢",
                s2_title: "ç¬¬äºŒæ­¥ï¼šç‰Œç…§ç´€éŒ„", s2_desc: "æ‚¨çš„ç‰Œç…§ç´€éŒ„æœƒå½±éŸ¿è€ƒè©¦è±å…ã€‚",
                current_license: "æ‚¨ç›®å‰æ˜¯å¦æŒæœ‰è­‰ç›£æœƒç‰Œç…§ï¼Ÿ",
                yes1: "æ˜¯", no1: "å¦", yes2: "æ˜¯", no2: "å¦", yes3: "æ˜¯", no3: "å¦",
                current_ra_label: "ç›®å‰æŒæœ‰çš„ç‰Œç…§ï¼š",
                former_license: "æ‚¨éå»æ˜¯å¦æ›¾æŒæœ‰ç‰Œç…§ï¼Ÿ",
                former_ra_label: "éå»æŒæœ‰çš„ç‰Œç…§ï¼š",
                years_absent: "é›¢é–‹è¡Œæ¥­å¤šé•·æ™‚é–“ï¼š",
                years_unit: "å¹´", years_unit2: "å¹´", years_unit3: "å¹´", years_unit4: "å¹´",
                years_help: "3-8å¹´ = éœ€è¦CPTæ™‚æ•¸ï¼›>8å¹´ = æ²’æœ‰è±å…",
                s3_title: "ç¬¬ä¸‰æ­¥ï¼šè³‡æ­·åŠç¶“é©—", s3_desc: "æ‚¨çš„è³‡æ­·æ±ºå®šè€ƒè©¦è±å…ã€‚",
                academic_label: "æœ€é«˜å­¸æ­·ï¼š",
                acad_none: "æ²’æœ‰æ­£å¼å­¸æ­·",
                acad_sec: "ä¸­å­¸æ•™è‚² (HKCEE/HKDSE)",
                acad_deg_other: "å­¸å£«å­¸ä½ï¼ˆå…¶ä»–é ˜åŸŸï¼‰",
                acad_deg_rel: "æœƒè¨ˆ/å•†æ¥­/ç¶“æ¿Ÿ/é‡‘è/æ³•å¾‹å­¸å£«å­¸ä½",
                acad_deg_courses: "å­¸å£«å­¸ä½ï¼ˆå…¶ä»–ï¼‰+ 2é–€ç›¸é—œèª²ç¨‹",
                acad_masters: "ç›¸é—œé ˜åŸŸç¢©å£«å­¸ä½",
                acad_mba: "MBA",
                prof_label: "å°ˆæ¥­è³‡æ ¼ï¼š",
                exp_8_label: "éå»8å¹´ç›¸é—œç¶“é©—ï¼š",
                exp_8_help: "5å¹´ä»¥ä¸Š = RIQè±å…",
                exp_6_label: "éå»6å¹´ç›¸é—œç¶“é©—ï¼š",
                exp_6_help: "è² è²¬äººå“¡éœ€3å¹´ä»¥ä¸Š",
                mgmt_label: "ç®¡ç†ç¶“é©—ï¼š",
                mgmt_help: "è² è²¬äººå“¡éœ€2å¹´ä»¥ä¸Š",
                pi_label: "æ˜¯å¦åªæœå‹™å°ˆæ¥­æŠ•è³‡è€…ï¼Ÿ",
                s4_title: "ç¬¬å››æ­¥ï¼šè€ƒè©¦ç´€éŒ„", s4_desc: "é¸æ“‡éå»3å¹´å…§å·²é€šéçš„è©¦å·ã€‚",
                lrp_papers_label: "LRPè©¦å·ï¼ˆç›£ç®¡ï¼‰ï¼š",
                riq_papers_label: "RIQè©¦å·ï¼ˆå¯¦å‹™ï¼‰ï¼š",
                add_papers_label: "å…¶ä»–è©¦å·ï¼š",
                p1: "å·ä¸€", p2: "å·äºŒ", p3: "å·ä¸‰", p4: "å·å››", p5: "å·äº”", p6: "å·å…­",
                p7: "å·ä¸ƒ", p8: "å·å…«", p9: "å·ä¹", p10: "å·å", p11: "å·åä¸€", p12: "å·åäºŒ",
                p15: "å·åäº”", p16: "å·åå…­", p17: "å·åä¸ƒ", p18: "å·åå…«", p19: "å·åä¹",
                btn_next1: "ä¸‹ä¸€æ­¥ â†’", btn_next2: "ä¸‹ä¸€æ­¥ â†’", btn_next3: "ä¸‹ä¸€æ­¥ â†’",
                btn_back2: "â† è¿”å›", btn_back3: "â† è¿”å›", btn_back4: "â† è¿”å›",
                btn_calc: "è¨ˆç®—çµæœ", btn_restart: "é‡æ–°é–‹å§‹",
                result_eligible: "æ‚¨ä¼¼ä¹ç¬¦åˆè³‡æ ¼",
                result_warning: "æœ‰æ¢ä»¶ç¬¦åˆè³‡æ ¼",
                result_not_eligible: "è³‡æ ¼å•é¡Œ",
                papers_required: "éœ€è¦é€šéçš„è©¦å·",
                papers_exempt: "ç²è±å…çš„è©¦å·",
                summary: "æ‘˜è¦",
                papers_to_pass: "éœ€é€šéè©¦å·ï¼š",
                papers_exempt_count: "è±å…è©¦å·ï¼š",
                cpt_required: "éœ€è¦CPTæ™‚æ•¸",
                cpt_before: "å¿…é ˆåœ¨ç”³è«‹å‰å®Œæˆ",
                alert_select: "è«‹é¸æ“‡è§’è‰²åŠå—è¦ç®¡æ´»å‹•ã€‚",
                disclaimer_title: "å…è²¬è²æ˜",
                disclaimer_text: "æœ¬è¨ˆç®—å™¨æ ¹æ“šè­‰ç›£æœƒã€Šå‹ä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) æä¾›ä¸€èˆ¬æŒ‡å¼•ã€‚å€‹åˆ¥æƒ…æ³å¯èƒ½æœ‰æ‰€ä¸åŒã€‚å¦‚éœ€äº†è§£å®˜æ–¹è¦æ±‚ï¼Œè«‹ç›´æ¥è«®è©¢è­‰ç›£æœƒã€‚",
                link_sfc: "è­‰ç›£æœƒæŒ‡å¼•",
                contact_title: "ğŸ“ è¯çµ¡æˆ‘å€‘",
                address_text: "ä¸­ç’°å¾·è¼”é“ä¸­59è™Ÿä¸­å—è¡Œ301å®¤",
                mtr_text: "ä¸­ç’°åœ°éµç«™Bå‡ºå£",
                hours_title: "è¾¦å…¬æ™‚é–“",
                hours_days: "æ˜ŸæœŸä¸€è‡³äº”: 9AM-12PM, 1PM-6PM",
                hours_lunch: "ï¼ˆåˆé£¯æ™‚é–“ä¸æä¾›æœå‹™ï¼‰"
            },
            sc: {
                title: "è¯ç›‘ä¼šè€ƒè¯•åŠèµ„æ ¼æ£€æŸ¥å™¨",
                subtitle: "æ ¹æ®è¯ç›‘ä¼šã€Šèƒœä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) ç¡®å®šè€ƒè¯•è¦æ±‚åŠç‰Œç…§èµ„æ ¼",
                s1_title: "ç¬¬ä¸€æ­¥ï¼šè§’è‰²åŠå—è§„ç®¡æ´»åŠ¨",
                s1_desc: "é€‰æ‹©æ‚¨ç”³è¯·çš„è§’è‰²åŠå—è§„ç®¡æ´»åŠ¨ç±»å‹ã€‚",
                role_label: "æ‚¨ç”³è¯·çš„æ˜¯ä»€ä¹ˆè§’è‰²ï¼Ÿ",
                role_lr: "æŒç‰Œä»£è¡¨ (LR)",
                role_ro: "è´Ÿè´£äººå‘˜ (RO)",
                ra_label: "å“ªç§å—è§„ç®¡æ´»åŠ¨ (RA)ï¼Ÿ",
                type1: "ç¬¬1ç±»", type2: "ç¬¬2ç±»", type3: "ç¬¬3ç±»", type4: "ç¬¬4ç±»", type5: "ç¬¬5ç±»",
                type6: "ç¬¬6ç±»", type7: "ç¬¬7ç±»", type8: "ç¬¬8ç±»", type9: "ç¬¬9ç±»", type10: "ç¬¬10ç±»", type13: "ç¬¬13ç±»",
                ra1: "è¯åˆ¸äº¤æ˜“", ra2: "æœŸè´§åˆçº¦äº¤æ˜“", ra3: "æ æ†å¼å¤–æ±‡äº¤æ˜“",
                ra4: "å°±è¯åˆ¸æä¾›æ„è§", ra5: "å°±æœŸè´§åˆçº¦æä¾›æ„è§", ra6: "å°±æœºæ„èèµ„æä¾›æ„è§",
                ra7: "æä¾›è‡ªåŠ¨åŒ–äº¤æ˜“æœåŠ¡", ra8: "æä¾›è¯åˆ¸ä¿è¯é‡‘èèµ„", ra9: "èµ„äº§ç®¡ç†",
                ra10: "æä¾›ä¿¡è´·è¯„çº§æœåŠ¡", ra13: "ä¸ºé›†ä½“æŠ•èµ„è®¡åˆ’æä¾›å­˜ç®¡æœåŠ¡", no_exam: "æ— é¡»è€ƒè¯•", new_2024: "2024æ–°å¢",
                s2_title: "ç¬¬äºŒæ­¥ï¼šç‰Œç…§è®°å½•", s2_desc: "æ‚¨çš„ç‰Œç…§è®°å½•ä¼šå½±å“è€ƒè¯•è±å…ã€‚",
                current_license: "æ‚¨ç›®å‰æ˜¯å¦æŒæœ‰è¯ç›‘ä¼šç‰Œç…§ï¼Ÿ",
                yes1: "æ˜¯", no1: "å¦", yes2: "æ˜¯", no2: "å¦", yes3: "æ˜¯", no3: "å¦",
                current_ra_label: "ç›®å‰æŒæœ‰çš„ç‰Œç…§ï¼š",
                former_license: "æ‚¨è¿‡å»æ˜¯å¦æ›¾æŒæœ‰ç‰Œç…§ï¼Ÿ",
                former_ra_label: "è¿‡å»æŒæœ‰çš„ç‰Œç…§ï¼š",
                years_absent: "ç¦»å¼€è¡Œä¸šå¤šé•¿æ—¶é—´ï¼š",
                years_unit: "å¹´", years_unit2: "å¹´", years_unit3: "å¹´", years_unit4: "å¹´",
                years_help: "3-8å¹´ = éœ€è¦CPTæ—¶æ•°ï¼›>8å¹´ = æ²¡æœ‰è±å…",
                s3_title: "ç¬¬ä¸‰æ­¥ï¼šèµ„å†åŠç»éªŒ", s3_desc: "æ‚¨çš„èµ„å†å†³å®šè€ƒè¯•è±å…ã€‚",
                academic_label: "æœ€é«˜å­¦å†ï¼š",
                acad_none: "æ²¡æœ‰æ­£å¼å­¦å†",
                acad_sec: "ä¸­å­¦æ•™è‚² (HKCEE/HKDSE)",
                acad_deg_other: "å­¦å£«å­¦ä½ï¼ˆå…¶ä»–é¢†åŸŸï¼‰",
                acad_deg_rel: "ä¼šè®¡/å•†ä¸š/ç»æµ/é‡‘è/æ³•å¾‹å­¦å£«å­¦ä½",
                acad_deg_courses: "å­¦å£«å­¦ä½ï¼ˆå…¶ä»–ï¼‰+ 2é—¨ç›¸å…³è¯¾ç¨‹",
                acad_masters: "ç›¸å…³é¢†åŸŸç¡•å£«å­¦ä½",
                acad_mba: "MBA",
                prof_label: "ä¸“ä¸šèµ„æ ¼ï¼š",
                exp_8_label: "è¿‡å»8å¹´ç›¸å…³ç»éªŒï¼š",
                exp_8_help: "5å¹´ä»¥ä¸Š = RIQè±å…",
                exp_6_label: "è¿‡å»6å¹´ç›¸å…³ç»éªŒï¼š",
                exp_6_help: "è´Ÿè´£äººå‘˜éœ€3å¹´ä»¥ä¸Š",
                mgmt_label: "ç®¡ç†ç»éªŒï¼š",
                mgmt_help: "è´Ÿè´£äººå‘˜éœ€2å¹´ä»¥ä¸Š",
                pi_label: "æ˜¯å¦åªæœåŠ¡ä¸“ä¸šæŠ•èµ„è€…ï¼Ÿ",
                s4_title: "ç¬¬å››æ­¥ï¼šè€ƒè¯•è®°å½•", s4_desc: "é€‰æ‹©è¿‡å»3å¹´å†…å·²é€šè¿‡çš„è¯•å·ã€‚",
                lrp_papers_label: "LRPè¯•å·ï¼ˆç›‘ç®¡ï¼‰ï¼š",
                riq_papers_label: "RIQè¯•å·ï¼ˆå®åŠ¡ï¼‰ï¼š",
                add_papers_label: "å…¶ä»–è¯•å·ï¼š",
                p1: "å·ä¸€", p2: "å·äºŒ", p3: "å·ä¸‰", p4: "å·å››", p5: "å·äº”", p6: "å·å…­",
                p7: "å·ä¸ƒ", p8: "å·å…«", p9: "å·ä¹", p10: "å·å", p11: "å·åä¸€", p12: "å·åäºŒ",
                p15: "å·åäº”", p16: "å·åå…­", p17: "å·åä¸ƒ", p18: "å·åå…«", p19: "å·åä¹",
                btn_next1: "ä¸‹ä¸€æ­¥ â†’", btn_next2: "ä¸‹ä¸€æ­¥ â†’", btn_next3: "ä¸‹ä¸€æ­¥ â†’",
                btn_back2: "â† è¿”å›", btn_back3: "â† è¿”å›", btn_back4: "â† è¿”å›",
                btn_calc: "è®¡ç®—ç»“æœ", btn_restart: "é‡æ–°å¼€å§‹",
                result_eligible: "æ‚¨ä¼¼ä¹ç¬¦åˆèµ„æ ¼",
                result_warning: "æœ‰æ¡ä»¶ç¬¦åˆèµ„æ ¼",
                result_not_eligible: "èµ„æ ¼é—®é¢˜",
                papers_required: "éœ€è¦é€šè¿‡çš„è¯•å·",
                papers_exempt: "è·è±å…çš„è¯•å·",
                summary: "æ‘˜è¦",
                papers_to_pass: "éœ€é€šè¿‡è¯•å·ï¼š",
                papers_exempt_count: "è±å…è¯•å·ï¼š",
                cpt_required: "éœ€è¦CPTæ—¶æ•°",
                cpt_before: "å¿…é¡»åœ¨ç”³è¯·å‰å®Œæˆ",
                alert_select: "è¯·é€‰æ‹©è§’è‰²åŠå—è§„ç®¡æ´»åŠ¨ã€‚",
                disclaimer_title: "å…è´£å£°æ˜",
                disclaimer_text: "æœ¬è®¡ç®—å™¨æ ¹æ®è¯ç›‘ä¼šã€Šèƒœä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) æä¾›ä¸€èˆ¬æŒ‡å¼•ã€‚ä¸ªåˆ«æƒ…å†µå¯èƒ½æœ‰æ‰€ä¸åŒã€‚å¦‚éœ€äº†è§£å®˜æ–¹è¦æ±‚ï¼Œè¯·ç›´æ¥å’¨è¯¢è¯ç›‘ä¼šã€‚",
                link_sfc: "è¯ç›‘ä¼šæŒ‡å¼•",
                contact_title: "ğŸ“ è”ç»œæˆ‘ä»¬",
                address_text: "ä¸­ç¯å¾·è¾…é“ä¸­59å·ä¸­å—è¡Œ301å®¤",
                mtr_text: "ä¸­ç¯åœ°é“ç«™Bå‡ºå£",
                hours_title: "åŠå…¬æ—¶é—´",
                hours_days: "æ˜ŸæœŸä¸€è‡³äº”: 9AM-12PM, 1PM-6PM",
                hours_lunch: "ï¼ˆåˆé¥­æ—¶é—´ä¸æä¾›æœåŠ¡ï¼‰"
            }
        };

        function setLang(l) {
            lang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('lang_' + l).classList.add('active');
            const t = texts[l];
            for (const [id, text] of Object.entries(t)) {
                const el = document.getElementById(id);
                if (el) el.textContent = text;
            }
            // Update html lang attribute
            document.documentElement.lang = l === 'tc' ? 'zh-Hant' : l === 'sc' ? 'zh-Hans' : 'en';
        }

        // Navigation
        function nextStep(current) {
            if (current === 1) {
                const role = document.querySelector('input[name="role"]:checked');
                const ra = document.querySelector('input[name="raType"]:checked');
                if (!role || !ra) {
                    alert(texts[lang].alert_select);
                    return;
                }
            }
            document.getElementById('step' + current).classList.remove('active');
            document.getElementById('step' + (current + 1)).classList.add('active');
            window.scrollTo(0, 0);
        }

        function prevStep(current) {
            document.getElementById('step' + current).classList.remove('active');
            document.getElementById('step' + (current - 1)).classList.add('active');
            window.scrollTo(0, 0);
        }

        // Event listeners
        document.querySelectorAll('input[name="currentLicense"]').forEach(r => {
            r.addEventListener('change', function() {
                document.getElementById('currentRAGroup').style.display = this.value === 'yes' ? 'block' : 'none';
                document.getElementById('formerGroup').style.display = this.value === 'no' ? 'block' : 'none';
            });
        });

        document.querySelectorAll('input[name="formerLicense"]').forEach(r => {
            r.addEventListener('change', function() {
                const show = this.value === 'yes';
                document.getElementById('yearsAbsentGroup').style.display = show ? 'block' : 'none';
                document.getElementById('formerRAGroup').style.display = show ? 'block' : 'none';
            });
        });

        // Paper names
        const paperNames = {
            en: { '1':'Paper 1 - Securities & Futures Regulation','2':'Paper 2 - Securities Regulation','3':'Paper 3 - Derivatives Regulation','4':'Paper 4 - Credit Rating Regulation','5':'Paper 5 - Corporate Finance Regulation','6':'Paper 6 - Asset Management Regulation','7':'Paper 7 - Financial Markets','8':'Paper 8 - Securities','9':'Paper 9 - Derivatives','10':'Paper 10 - Credit Rating','11':'Paper 11 - Corporate Finance','12':'Paper 12 - Asset Management','15':'Paper 15 - Sponsors (Principals)','16':'Paper 16 - Sponsors (Representatives)','17':'Paper 17 - Takeovers','18':'Paper 18 - Depositary Regulation','19':'Paper 19 - Depositary Services' },
            tc: { '1':'å·ä¸€ - è­‰åˆ¸åŠæœŸè²¨è¦ä¾‹','2':'å·äºŒ - è­‰åˆ¸è¦ä¾‹','3':'å·ä¸‰ - è¡ç”Ÿå·¥å…·è¦ä¾‹','4':'å·å›› - ä¿¡è²¸è©•ç´šè¦ä¾‹','5':'å·äº” - æ©Ÿæ§‹èè³‡è¦ä¾‹','6':'å·å…­ - è³‡ç”¢ç®¡ç†è¦ä¾‹','7':'å·ä¸ƒ - é‡‘èå¸‚å ´','8':'å·å…« - è­‰åˆ¸','9':'å·ä¹ - è¡ç”Ÿå·¥å…·','10':'å·å - ä¿¡è²¸è©•ç´š','11':'å·åä¸€ - æ©Ÿæ§‹èè³‡','12':'å·åäºŒ - è³‡ç”¢ç®¡ç†','15':'å·åäº” - ä¿è–¦äºº(ä¸»äº‹äºº)','16':'å·åå…­ - ä¿è–¦äºº(ä»£è¡¨)','17':'å·åä¸ƒ - æ”¶è³¼åˆä½µ','18':'å·åå…« - å­˜ç®¡æœå‹™è¦ä¾‹','19':'å·åä¹ - å­˜ç®¡æœå‹™' },
            sc: { '1':'å·ä¸€ - è¯åˆ¸åŠæœŸè´§è§„ä¾‹','2':'å·äºŒ - è¯åˆ¸è§„ä¾‹','3':'å·ä¸‰ - è¡ç”Ÿå·¥å…·è§„ä¾‹','4':'å·å›› - ä¿¡è´·è¯„çº§è§„ä¾‹','5':'å·äº” - æœºæ„èèµ„è§„ä¾‹','6':'å·å…­ - èµ„äº§ç®¡ç†è§„ä¾‹','7':'å·ä¸ƒ - é‡‘èå¸‚åœº','8':'å·å…« - è¯åˆ¸','9':'å·ä¹ - è¡ç”Ÿå·¥å…·','10':'å·å - ä¿¡è´·è¯„çº§','11':'å·åä¸€ - æœºæ„èèµ„','12':'å·åäºŒ - èµ„äº§ç®¡ç†','15':'å·åäº” - ä¿èäºº(ä¸»äº‹äºº)','16':'å·åå…­ - ä¿èäºº(ä»£è¡¨)','17':'å·åä¸ƒ - æ”¶è´­åˆå¹¶','18':'å·åå…« - å­˜ç®¡æœåŠ¡è§„ä¾‹','19':'å·åä¹ - å­˜ç®¡æœåŠ¡' }
        };

        // Exam requirements
        const examReq = {
            RIQ: { '1':['7','8'],'2':['7','9'],'3':[],'4':['7','8'],'5':['7','9'],'6':['7','11'],'7':[],'8':['7','8'],'9':['7','12'],'10':['7','10'],'13':['7','19'] },
            LRP_LR: { '1':['1'],'2':['1'],'3':[],'4':['1'],'5':['1'],'6':['1'],'7':[],'8':['1'],'9':['1'],'10':['1'],'13':['1'] },
            LRP_RO: { '1':['1','2'],'2':['1','3'],'3':[],'4':['1','2'],'5':['1','3'],'6':['1','5'],'7':[],'8':['1','2'],'9':['1','6'],'10':['1','4'],'13':['1','18'] }
        };

        // 2CExam Product Database
        const products = {
            '1': {
                printedQB: 'https://2cexam.com.hk/hksi-le-paper-1-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip1eonline/?lang=en',
                bible: 'https://2cexam.com.hk/hksi-le-paper-1-pass-paper-bible/',
                hasBible: true
            },
            '2': {
                printedQB: 'https://2cexam.com.hk/hksi-le-paper-2-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip2eonline/?lang=en',
                bible: 'https://2cexam.com.hk/hk/hksi-le-paper-2-pass-paper-bible/',
                hasBible: true
            },
            '3': {
                printedQB: 'https://2cexam.com.hk/hksi-le-paper-3-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip3eonline/?lang=en',
                hasBible: false
            },
            '5': {
                printedQB: 'https://2cexam.com.hk/hksi-le-paper-5-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip5eonline/?lang=en',
                hasBible: false
            },
            '6': {
                printedQB: 'https://2cexam.com.hk/hk/hksi-le-paper-6-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip6eonline/?lang=en',
                bible: 'https://2cexam.com.hk/hk/hksi-le-paper-6-pass-paper-bible/',
                hasBible: true
            },
            '7': {
                printedQB: 'https://2cexam.com.hk/hk/hksi-le-paper-7-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip7eonline/?lang=en',
                bible: 'https://2cexam.com.hk/hk/hksi-le-paper-7-pass-paper-bible/',
                hasBible: true
            },
            '8': {
                printedQB: 'https://2cexam.com.hk/hk/hksi-le-paper-8-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip8eonline/?lang=en',
                bible: 'https://2cexam.com.hk/hk/hksi-le-paper-8-pass-paper-bible/',
                hasBible: true
            },
            '9': {
                printedQB: 'https://2cexam.com.hk/hk/hksi-le-paper-9-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip9eonline/?lang=en',
                hasBible: false
            },
            '12': {
                printedQB: 'https://2cexam.com.hk/hksi-le-paper-12-pass-paper-question-bank/',
                onlineQB: 'https://hksiiiqepasspaper.online/product/hksip12eonline/?lang=en',
                bible: 'https://2cexam.com.hk/hk/hksi-le-paper-12-pass-paper-bible/',
                hasBible: true
            }
        };

        // Product text translations
        const productTexts = {
            en: {
                title: 'ğŸ“š Study Materials from 2CExam',
                subtitle: 'Get our exam preparation materials with 100% Money-Back Guarantee!',
                paperTitle: 'Paper',
                printedQB: 'ğŸ“– Printed Question Bank',
                onlineQB: 'ğŸ’» Online Question Bank',
                bible: 'ğŸ“• Study Bible (Chinese)',
                moneyback: 'ğŸ’¯ Money-Back Guarantee',
                instantAccess: 'âš¡ Instant Access',
                pricing: 'ğŸ’¼ Pricing',
                priceEN: 'English version: HK$2,500/book',
                priceCN: 'Chinese version: HK$1,500/book',
                payment: 'ğŸ’³ Payment Methods',
                payOnline: 'Online: Credit Card / PayPal',
                payOffice: 'Office: Cash / FPS / Alipay / Cheque',
                delivery: 'ğŸšš Delivery',
                deliveryOnline: 'Online versions: Instant access',
                deliveryPrint: 'Printed versions: SF Express or pickup',
                cta: 'ğŸ“ Need tutoring? Contact us!',
                buyNow: 'Buy Now'
            },
            tc: {
                title: 'ğŸ“š 2CExam è€ƒè©¦æº«ç¿’ææ–™',
                subtitle: 'æˆ‘å€‘çš„è€ƒè©¦æº–å‚™ææ–™äº«æœ‰100%é€€æ¬¾ä¿è­‰ï¼',
                paperTitle: 'å·',
                printedQB: 'ğŸ“– å¯¦é«”ç‰ˆæ¨¡æ“¬è©¦é¡Œ',
                onlineQB: 'ğŸ’» ç¶²ä¸Šç‰ˆæ¨¡æ“¬è©¦é¡Œ',
                bible: 'ğŸ“• å¤©æ›¸ï¼ˆä¸­æ–‡ï¼‰',
                moneyback: 'ğŸ’¯ é€€æ¬¾ä¿è­‰',
                instantAccess: 'âš¡ å³æ™‚é–‹é€š',
                pricing: 'ğŸ’¼ åƒ¹æ ¼',
                priceEN: 'è‹±æ–‡ç‰ˆï¼šHK$2,500/æœ¬',
                priceCN: 'ä¸­æ–‡ç‰ˆï¼šHK$1,500/æœ¬',
                payment: 'ğŸ’³ ä»˜æ¬¾æ–¹å¼',
                payOnline: 'ç¶²ä¸Šè³¼è²·ï¼šä¿¡ç”¨å¡ / PayPal',
                payOffice: 'é–€å¸‚è³¼è²·ï¼šç¾é‡‘ / è½‰æ•¸å¿« / æ”¯ä»˜å¯¶ / æ”¯ç¥¨',
                delivery: 'ğŸšš é…é€æ–¹å¼',
                deliveryOnline: 'ç¶²ä¸Šç‰ˆï¼šæˆåŠŸè³¼è²·å¾Œå³æ™‚é–‹é€š',
                deliveryPrint: 'å¯¦é«”ç‰ˆï¼šé †è±é€Ÿéæˆ–é–€å¸‚è‡ªå–',
                cta: 'ğŸ“ éœ€è¦ç§äººè£œç¿’ï¼Ÿæ­¡è¿è¯ç¹«æˆ‘å€‘ï¼',
                buyNow: 'ç«‹å³è³¼è²·'
            },
            sc: {
                title: 'ğŸ“š 2CExam è€ƒè¯•æ¸©ä¹ ææ–™',
                subtitle: 'æˆ‘ä»¬çš„è€ƒè¯•å‡†å¤‡ææ–™äº«æœ‰100%é€€æ¬¾ä¿è¯ï¼',
                paperTitle: 'å·',
                printedQB: 'ğŸ“– å®ä½“ç‰ˆæ¨¡æ‹Ÿè¯•é¢˜',
                onlineQB: 'ğŸ’» ç½‘ä¸Šç‰ˆæ¨¡æ‹Ÿè¯•é¢˜',
                bible: 'ğŸ“• å¤©ä¹¦ï¼ˆä¸­æ–‡ï¼‰',
                moneyback: 'ğŸ’¯ é€€æ¬¾ä¿è¯',
                instantAccess: 'âš¡ å³æ—¶å¼€é€š',
                pricing: 'ğŸ’¼ ä»·æ ¼',
                priceEN: 'è‹±æ–‡ç‰ˆï¼šHK$2,500/æœ¬',
                priceCN: 'ä¸­æ–‡ç‰ˆï¼šHK$1,500/æœ¬',
                payment: 'ğŸ’³ ä»˜æ¬¾æ–¹å¼',
                payOnline: 'ç½‘ä¸Šè´­ä¹°ï¼šä¿¡ç”¨å¡ / PayPal',
                payOffice: 'é—¨åº—è´­ä¹°ï¼šç°é‡‘ / è½¬æ•°å¿« / æ”¯ä»˜å® / æ”¯ç¥¨',
                delivery: 'ğŸšš é…é€æ–¹å¼',
                deliveryOnline: 'ç½‘ä¸Šç‰ˆï¼šæˆåŠŸè´­ä¹°åå³æ—¶å¼€é€š',
                deliveryPrint: 'å®ä½“ç‰ˆï¼šé¡ºä¸°é€Ÿé€’æˆ–é—¨åº—è‡ªå–',
                cta: 'ğŸ“ éœ€è¦ç§äººè¡¥ä¹ ï¼Ÿæ¬¢è¿è”ç³»æˆ‘ä»¬ï¼',
                buyNow: 'ç«‹å³è´­ä¹°'
            }
        };

        // SFC Information translations
        const sfcTexts = {
            en: {
                sfcTitle: 'ğŸ“‹ SFC Licensing Information',
                guidelinesTitle: 'Guidelines on Competence',
                guidelinesDesc: 'The SFC Guidelines on Competence (October 2024) set out the competence requirements for licensed representatives and responsible officers.',
                guidelinesLink: 'https://www.sfc.hk/en/rules-and-standards/codes-and-guidelines/guidelines/guidelines-on-competence',
                viewGuidelines: 'View Official Guidelines',
                contactTitle: 'ğŸ“ Contact SFC Licensing Department',
                address: 'Securities and Futures Commission\n54/F, One Island East\n18 Westlands Road, Quarry Bay\nHong Kong',
                hotline: 'Licensing Hotline: (852) 2231 1222',
                fax: 'Fax: (852) 2521 7836',
                email: 'Email: licensing@sfc.hk',
                website: 'Website: www.sfc.hk',
                hours: 'Office Hours: Mon-Fri 9:00am - 5:30pm',
                enquiry: 'Online Licensing Enquiry',
                enquiryLink: 'https://www.sfc.hk/en/faqs/licensing-enquiries'
            },
            tc: {
                sfcTitle: 'ğŸ“‹ è­‰ç›£æœƒç™¼ç‰Œè³‡è¨Š',
                guidelinesTitle: 'å‹ä»»èƒ½åŠ›çš„æŒ‡å¼•',
                guidelinesDesc: 'è­‰ç›£æœƒã€Šå‹ä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) åˆ—æ˜æŒç‰Œä»£è¡¨åŠè² è²¬äººå“¡çš„å‹ä»»èƒ½åŠ›è¦æ±‚ã€‚',
                guidelinesLink: 'https://www.sfc.hk/TC/rules-and-standards/codes-and-guidelines/guidelines/guidelines-on-competence',
                viewGuidelines: 'æŸ¥çœ‹å®˜æ–¹æŒ‡å¼•',
                contactTitle: 'ğŸ“ è¯ç¹«è­‰ç›£æœƒç™¼ç‰Œç§‘',
                address: 'è­‰åˆ¸åŠæœŸè²¨äº‹å‹™ç›£å¯Ÿå§”å“¡æœƒ\né¦™æ¸¯é°‚é­šæ¶Œè¯è˜­è·¯18è™Ÿ\næ¸¯å³¶æ±ä¸­å¿ƒ54æ¨“',
                hotline: 'ç™¼ç‰Œç†±ç·šï¼š(852) 2231 1222',
                fax: 'å‚³çœŸï¼š(852) 2521 7836',
                email: 'é›»éƒµï¼šlicensing@sfc.hk',
                website: 'ç¶²å€ï¼šwww.sfc.hk',
                hours: 'è¾¦å…¬æ™‚é–“ï¼šæ˜ŸæœŸä¸€è‡³äº” ä¸Šåˆ9æ™‚è‡³ä¸‹åˆ5æ™‚30åˆ†',
                enquiry: 'ç¶²ä¸Šç™¼ç‰ŒæŸ¥è©¢',
                enquiryLink: 'https://www.sfc.hk/TC/faqs/licensing-enquiries'
            },
            sc: {
                sfcTitle: 'ğŸ“‹ è¯ç›‘ä¼šå‘ç‰Œèµ„è®¯',
                guidelinesTitle: 'èƒœä»»èƒ½åŠ›çš„æŒ‡å¼•',
                guidelinesDesc: 'è¯ç›‘ä¼šã€Šèƒœä»»èƒ½åŠ›çš„æŒ‡å¼•ã€‹(2024å¹´10æœˆ) åˆ—æ˜æŒç‰Œä»£è¡¨åŠè´Ÿè´£äººå‘˜çš„èƒœä»»èƒ½åŠ›è¦æ±‚ã€‚',
                guidelinesLink: 'https://www.sfc.hk/TC/rules-and-standards/codes-and-guidelines/guidelines/guidelines-on-competence',
                viewGuidelines: 'æŸ¥çœ‹å®˜æ–¹æŒ‡å¼•',
                contactTitle: 'ğŸ“ è”ç³»è¯ç›‘ä¼šå‘ç‰Œç§‘',
                address: 'è¯åˆ¸åŠæœŸè´§äº‹åŠ¡ç›‘å¯Ÿå§”å‘˜ä¼š\né¦™æ¸¯ï¿½çš„é±¼æ¶Œåå…°è·¯18å·\næ¸¯å²›ä¸œä¸­å¿ƒ54æ¥¼',
                hotline: 'å‘ç‰Œçƒ­çº¿ï¼š(852) 2231 1222',
                fax: 'ä¼ çœŸï¼š(852) 2521 7836',
                email: 'ç”µé‚®ï¼šlicensing@sfc.hk',
                website: 'ç½‘å€ï¼šwww.sfc.hk',
                hours: 'åŠå…¬æ—¶é—´ï¼šæ˜ŸæœŸä¸€è‡³äº” ä¸Šåˆ9æ—¶è‡³ä¸‹åˆ5æ—¶30åˆ†',
                enquiry: 'ç½‘ä¸Šå‘ç‰ŒæŸ¥è¯¢',
                enquiryLink: 'https://www.sfc.hk/TC/faqs/licensing-enquiries'
            }
        };

        function generateProductRecommendations(requiredPapers) {
            if (requiredPapers.length === 0) return '';

            const pt = productTexts[lang];
            const pn = paperNames[lang];
            let html = `<div class="card" style="border:2px solid var(--primary);margin-top:20px;">
                <div class="card-header" style="background:linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);color:white;">
                    <h2 style="color:white;">${pt.title}</h2>
                    <p style="color:rgba(255,255,255,0.9);">${pt.subtitle}</p>
                </div>
                <div class="card-body">`;

            requiredPapers.forEach(paper => {
                const p = products[paper.p];
                if (!p) return;

                html += `<div style="background:var(--gray-100);border-radius:8px;padding:15px;margin-bottom:15px;">
                    <h4 style="color:var(--primary);margin-bottom:10px;">${pt.paperTitle} ${paper.p} - ${pn[paper.p]?.split(' - ')[1] || ''}</h4>
                    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;">
                        <a href="${p.printedQB}" target="_blank" class="btn btn-primary" style="text-decoration:none;text-align:center;font-size:0.85rem;">
                            ${pt.printedQB}<br><small>${pt.moneyback}</small>
                        </a>
                        <a href="${p.onlineQB}" target="_blank" class="btn btn-secondary" style="text-decoration:none;text-align:center;font-size:0.85rem;">
                            ${pt.onlineQB}<br><small>${pt.instantAccess}</small>
                        </a>
                        ${p.hasBible ? `<a href="${p.bible}" target="_blank" class="btn btn-primary" style="text-decoration:none;text-align:center;font-size:0.85rem;">
                            ${pt.bible}<br><small>${pt.moneyback}</small>
                        </a>` : ''}
                    </div>
                </div>`;
            });

            html += `<div style="background:#fff8e1;border-radius:8px;padding:15px;margin-top:15px;">
                <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;">
                    <div>
                        <strong>${pt.pricing}</strong><br>
                        <small>â€¢ ${pt.priceEN}<br>â€¢ ${pt.priceCN}</small>
                    </div>
                    <div>
                        <strong>${pt.payment}</strong><br>
                        <small>â€¢ ${pt.payOnline}<br>â€¢ ${pt.payOffice}</small>
                    </div>
                    <div>
                        <strong>${pt.delivery}</strong><br>
                        <small>â€¢ ${pt.deliveryOnline}<br>â€¢ ${pt.deliveryPrint}</small>
                    </div>
                </div>
                <p style="margin-top:15px;text-align:center;font-weight:600;color:var(--primary);">${pt.cta}</p>
            </div>`;

            html += '</div></div>';
            return html;
        }

        function generateSFCInfo() {
            const st = sfcTexts[lang];
            return `<div class="card" style="margin-top:20px;">
                <div class="card-header" style="background:#1a237e;color:white;">
                    <h2 style="color:white;">${st.sfcTitle}</h2>
                </div>
                <div class="card-body">
                    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;">
                        <div>
                            <h4 style="color:var(--secondary);margin-bottom:10px;">ğŸ“– ${st.guidelinesTitle}</h4>
                            <p style="font-size:0.9rem;color:var(--gray-600);margin-bottom:15px;">${st.guidelinesDesc}</p>
                            <a href="${st.guidelinesLink}" target="_blank" class="btn btn-primary" style="text-decoration:none;">
                                ${st.viewGuidelines} â†’
                            </a>
                        </div>
                        <div>
                            <h4 style="color:var(--secondary);margin-bottom:10px;">${st.contactTitle}</h4>
                            <div style="font-size:0.85rem;line-height:1.8;">
                                <p style="white-space:pre-line;">ğŸ“ ${st.address}</p>
                                <p>ğŸ“ ${st.hotline}</p>
                                <p>ğŸ“  ${st.fax}</p>
                                <p>âœ‰ï¸ ${st.email}</p>
                                <p>ğŸŒ ${st.website}</p>
                                <p>ğŸ• ${st.hours}</p>
                            </div>
                            <a href="${st.enquiryLink}" target="_blank" class="btn btn-secondary" style="text-decoration:none;margin-top:10px;">
                                ${st.enquiry} â†’
                            </a>
                        </div>
                    </div>
                </div>
            </div>`;
        }

        function calculate() {
            const t = texts[lang];
            const role = document.querySelector('input[name="role"]:checked')?.value || 'LR';
            const raType = document.querySelector('input[name="raType"]:checked')?.value || '1';
            const currentLic = document.querySelector('input[name="currentLicense"]:checked')?.value || 'no';
            const formerLic = document.querySelector('input[name="formerLicense"]:checked')?.value || 'no';
            const yearsAbsent = parseFloat(document.getElementById('yearsAbsent')?.value) || 0;
            const academicQual = document.getElementById('academicQual')?.value || 'none';
            const industryExp = parseFloat(document.getElementById('industryExp')?.value) || 0;
            const industryExp6 = parseFloat(document.getElementById('industryExp6')?.value) || 0;
            const managementExp = parseFloat(document.getElementById('managementExp')?.value) || 0;
            const piOnly = document.querySelector('input[name="piOnly"]:checked')?.value || 'no';

            const profQuals = Array.from(document.querySelectorAll('input[name="profQual"]:checked')).map(c => c.value);
            const currentRAs = Array.from(document.querySelectorAll('input[name="currentRA"]:checked')).map(c => c.value);
            const formerRAs = Array.from(document.querySelectorAll('input[name="formerRA"]:checked')).map(c => c.value);
            const passedPapers = Array.from(document.querySelectorAll('input[name="passedPapers"]:checked')).map(c => c.value);

            let eligibility = { ok: true, reasons: [], warnings: [] };
            let required = [], exempt = [], cptHours = 0, notes = [];

            // Type 7 - no exam
            if (raType === '7') {
                notes.push(lang === 'en' ? 'Type 7 has no RIQ or LRP requirements.' : lang === 'tc' ? 'ç¬¬7é¡æ²’æœ‰RIQæˆ–LRPè¦æ±‚ã€‚' : 'ç¬¬7ç±»æ²¡æœ‰RIQæˆ–LRPè¦æ±‚ã€‚');
            } else if (raType === '3') {
                eligibility.warnings.push(lang === 'en' ? 'Type 3 not covered by HKSI exams. Consult SFC.' : lang === 'tc' ? 'ç¬¬3é¡ä¸åŒ…æ‹¬åœ¨HKSIè€ƒè©¦ã€‚è«‹è«®è©¢è­‰ç›£æœƒã€‚' : 'ç¬¬3ç±»ä¸åŒ…æ‹¬åœ¨HKSIè€ƒè¯•ã€‚è¯·å’¨è¯¢è¯ç›‘ä¼šã€‚');
            } else {
                const lrp = role === 'RO' ? (examReq.LRP_RO[raType] || []) : (examReq.LRP_LR[raType] || []);
                const riq = examReq.RIQ[raType] || [];

                let riqExempt = false, riqReason = '';
                if (['degreeRelevant','masters','mba'].includes(academicQual)) { riqExempt = true; riqReason = lang === 'en' ? 'Relevant degree' : lang === 'tc' ? 'ç›¸é—œå­¸ä½' : 'ç›¸å…³å­¦ä½'; }
                if (profQuals.some(q => ['CFA','CIIA','CFP'].includes(q))) { riqExempt = true; riqReason = 'CFA/CIIA/CFP'; }
                if (industryExp >= 5) { riqExempt = true; riqReason = lang === 'en' ? '5+ years experience' : lang === 'tc' ? '5å¹´ä»¥ä¸Šç¶“é©—' : '5å¹´ä»¥ä¸Šç»éªŒ'; }
                if (piOnly === 'yes' && industryExp >= 8 && raType === '9') { riqExempt = true; riqReason = lang === 'en' ? '8+ years (PI only)' : lang === 'tc' ? '8å¹´ä»¥ä¸Šç¶“é©—(å°ˆæ¥­æŠ•è³‡è€…)' : '8å¹´ä»¥ä¸Šç»éªŒ(ä¸“ä¸šæŠ•èµ„è€…)'; }
                if (currentLic === 'yes' && currentRAs.includes(raType)) { riqExempt = true; riqReason = lang === 'en' ? 'Currently licensed' : lang === 'tc' ? 'ç›®å‰æŒç‰Œ' : 'ç›®å‰æŒç‰Œ'; }

                let lrpExempt = false, lrpReason = '';
                if (currentLic === 'yes' && currentRAs.includes(raType)) { lrpExempt = true; lrpReason = lang === 'en' ? 'Currently licensed' : lang === 'tc' ? 'ç›®å‰æŒç‰Œ' : 'ç›®å‰æŒç‰Œ'; }
                if (formerLic === 'yes' && yearsAbsent < 3 && formerRAs.includes(raType)) { lrpExempt = riqExempt = true; lrpReason = riqReason = lang === 'en' ? 'Former licensee <3 years' : lang === 'tc' ? '3å¹´å…§æ›¾æŒç‰Œ' : '3å¹´å†…æ›¾æŒç‰Œ'; }
                if (formerLic === 'yes' && yearsAbsent >= 3 && yearsAbsent <= 8 && formerRAs.includes(raType)) {
                    cptHours = Math.ceil(yearsAbsent) * 5;
                    lrpExempt = riqExempt = true;
                    lrpReason = riqReason = lang === 'en' ? 'Former licensee (CPT required)' : lang === 'tc' ? 'æ›¾æŒç‰Œ(éœ€CPT)' : 'æ›¾æŒç‰Œ(éœ€CPT)';
                }

                riq.forEach(p => {
                    if (passedPapers.includes(p)) exempt.push({p, r: lang === 'en' ? 'Passed' : lang === 'tc' ? 'å·²é€šé' : 'å·²é€šè¿‡'});
                    else if (riqExempt) exempt.push({p, r: riqReason});
                    else required.push({p, t: 'RIQ'});
                });

                lrp.forEach(p => {
                    if (passedPapers.includes(p)) {
                        exempt.push({p, r: lang === 'en' ? 'Passed' : lang === 'tc' ? 'å·²é€šé' : 'å·²é€šè¿‡'});
                    } else if (p === '1' && currentLic === 'yes') {
                        exempt.push({p, r: lang === 'en' ? 'Currently licensed' : lang === 'tc' ? 'ç›®å‰æŒç‰Œ' : 'ç›®å‰æŒç‰Œ'});
                    } else if (p === '1' && formerLic === 'yes' && yearsAbsent <= 8 && formerRAs.length > 0) {
                        // Paper 1 exempt for former licensees within 8 years
                        const reason = yearsAbsent < 3
                            ? (lang === 'en' ? 'Former licensee <3 years' : lang === 'tc' ? '3å¹´å…§æ›¾æŒç‰Œ' : '3å¹´å†…æ›¾æŒç‰Œ')
                            : (lang === 'en' ? 'Former licensee â‰¤8 years' : lang === 'tc' ? '8å¹´å…§æ›¾æŒç‰Œ' : '8å¹´å†…æ›¾æŒç‰Œ');
                        exempt.push({p, r: reason});
                    } else if (lrpExempt && yearsAbsent < 3) {
                        exempt.push({p, r: lrpReason});
                    } else {
                        required.push({p, t: 'LRP'});
                    }
                });
            }

            if (academicQual === 'none' && currentLic !== 'yes') {
                eligibility.ok = false;
                eligibility.reasons.push(lang === 'en' ? 'Minimum academic qualification required.' : lang === 'tc' ? 'éœ€è¦æœ€ä½å­¸æ­·è¦æ±‚ã€‚' : 'éœ€è¦æœ€ä½å­¦å†è¦æ±‚ã€‚');
            }
            if (role === 'RO') {
                if (industryExp6 < 3) eligibility.warnings.push(lang === 'en' ? `RO needs 3+ years in 6 years (you: ${industryExp6})` : lang === 'tc' ? `è² è²¬äººå“¡éœ€éå»6å¹´å…§3å¹´ç¶“é©—(æ‚¨:${industryExp6}å¹´)` : `è´Ÿè´£äººå‘˜éœ€è¿‡å»6å¹´å†…3å¹´ç»éªŒ(æ‚¨:${industryExp6}å¹´)`);
                if (managementExp < 2) eligibility.warnings.push(lang === 'en' ? `RO needs 2+ years management (you: ${managementExp})` : lang === 'tc' ? `è² è²¬äººå“¡éœ€2å¹´ç®¡ç†ç¶“é©—(æ‚¨:${managementExp}å¹´)` : `è´Ÿè´£äººå‘˜éœ€2å¹´ç®¡ç†ç»éªŒ(æ‚¨:${managementExp}å¹´)`);
            }

            // Show results
            let html = '';
            const pn = paperNames[lang];

            if (raType === '7') {
                html += `<div class="result-box success"><h3>âœ“ ${t.result_eligible}</h3><p>${notes[0]}</p></div>`;
            } else {
                const statusClass = !eligibility.ok ? 'danger' : eligibility.warnings.length ? 'warning' : 'success';
                const statusIcon = !eligibility.ok ? 'âœ—' : eligibility.warnings.length ? 'âš ï¸' : 'âœ“';
                const statusTitle = !eligibility.ok ? t.result_not_eligible : eligibility.warnings.length ? t.result_warning : t.result_eligible;

                html += `<div class="result-box ${statusClass}"><h3>${statusIcon} ${statusTitle}</h3>`;
                if (eligibility.reasons.length) html += `<ul>${eligibility.reasons.map(r => `<li>${r}</li>`).join('')}</ul>`;
                if (eligibility.warnings.length) html += `<ul>${eligibility.warnings.map(w => `<li>${w}</li>`).join('')}</ul>`;
                html += '</div>';

                if (required.length) {
                    html += `<div class="card"><div class="card-header" style="background:#ffebee;"><h2>ğŸ“ ${t.papers_required}</h2></div><div class="card-body"><ul class="result-list">`;
                    required.forEach(r => html += `<li><span>${pn[r.p] || 'Paper '+r.p}</span><span class="badge badge-danger">${r.t}</span></li>`);
                    html += '</ul></div></div>';
                }

                if (exempt.length) {
                    html += `<div class="card"><div class="card-header" style="background:#e8f5e9;"><h2>âœ“ ${t.papers_exempt}</h2></div><div class="card-body"><ul class="result-list">`;
                    exempt.forEach(e => html += `<li class="exempt"><span>${pn[e.p] || 'Paper '+e.p}</span><span class="badge badge-success">${e.r}</span></li>`);
                    html += '</ul></div></div>';
                }

                if (cptHours > 0) {
                    html += `<div class="result-box warning"><h3>â° ${t.cpt_required}</h3><p style="font-size:2rem;font-weight:700;color:#ED1C24;">${cptHours} ${lang === 'en' ? 'hours' : 'å°æ™‚'}</p><p>${t.cpt_before}</p></div>`;
                }

                html += `<div class="card"><div class="card-header"><h2>ğŸ“Š ${t.summary}</h2></div><div class="card-body">
                    <p><strong>${t.papers_to_pass}</strong> <span style="color:${required.length ? '#dc3545' : '#28a745'};font-weight:700;">${required.length}</span></p>
                    <p><strong>${t.papers_exempt_count}</strong> <span style="color:#28a745;font-weight:700;">${exempt.length}</span></p>
                    ${cptHours ? `<p><strong>${lang === 'en' ? 'CPT Hours:' : 'CPTæ™‚æ•¸ï¼š'}</strong> <span style="color:#ffc107;font-weight:700;">${cptHours}</span></p>` : ''}
                </div></div>`;

                // Add product recommendations if there are required papers
                if (required.length > 0) {
                    html += generateProductRecommendations(required);
                }
            }

            // Always add SFC information
            html += generateSFCInfo();

            document.getElementById('resultsContent').innerHTML = html;
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById('stepResults').classList.add('active');
            window.scrollTo(0, 0);
        }

        function restart() {
            document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = r.defaultChecked);
            document.querySelectorAll('input[type="checkbox"]').forEach(c => c.checked = false);
            document.querySelectorAll('input[type="number"]').forEach(n => n.value = 0);
            document.getElementById('academicQual').value = 'none';
            document.getElementById('currentRAGroup').style.display = 'none';
            document.getElementById('yearsAbsentGroup').style.display = 'none';
            document.getElementById('formerRAGroup').style.display = 'none';
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById('step1').classList.add('active');
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
<!-- v2 -->
